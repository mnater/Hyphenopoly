/**
 * @license Hyphenopoly_Loader 4.5.0 - client side hyphenation
 * ©2020  Mathias Nater, Güttingen (mathiasnater at gmail dot com)
 * https://github.com/mnater/Hyphenopoly
 *
 * Released under the MIT license
 * http://mnater.github.io/Hyphenopoly/LICENSE
 */
((e,t,s,n)=>{"use strict";const a=sessionStorage,r="Hyphenopoly_Loader.js",l=new Map,o="appendChild",i="createElement",p="createTextNode";s.cacheFeatureTests&&a.getItem(r)?(s.cf=JSON.parse(a.getItem(r)),s.cf.langs=new Map(s.cf.langs)):s.cf={langs:new Map,pf:!1},(()=>{const e=t.currentScript.src.slice(0,-21),n=e+"patterns/";s.paths?(s.paths.maindir=s.paths.maindir||e,s.paths.patterndir=s.paths.patterndir||n):s.paths={maindir:e,patterndir:n}})(),s.setup?(s.setup.CORScredentials=s.setup.CORScredentials||"include",s.setup.hide=s.setup.hide||"all",s.setup.selectors=s.setup.selectors||{".hyphenate":{}},s.setup.timeout=s.setup.timeout||1e3):s.setup={CORScredentials:"include",hide:"all",selectors:{".hyphenate":{}},timeout:1e3},s.setup.hide=["all","element","text"].indexOf(s.setup.hide),(()=>{const e=s.fallbacks?new Map(n.entries(s.fallbacks)):new Map;n.entries(s.require).forEach(([t,s])=>{l.set(t.toLowerCase(),{fn:e.get(t)||t,wo:s})})})(),s.defProm=()=>{let e=null,t=null;const s=new Promise((s,n)=>{e=s,t=n});return s.resolve=e,s.reject=t,s};let c=null;s.hide=(e,a)=>{if(0===e)c&&c.remove();else{const e="{visibility:hidden!important}";c=t[i]("style"),c.id="H9Y_Styles";let r="";0===a?r="html"+e:n.keys(s.setup.selectors).forEach(t=>{r+=1===a?t+e:t+"{color:transparent!important}"}),c[o](t[p](r)),t.head[o](c)}};const h=(()=>{let e=null;return{ap:()=>e?(t.documentElement[o](e),e):null,cl:()=>{e&&e.remove()},cr:n=>{if(s.cf.langs.has(n))return;e=e||t[i]("body");const a=t[i]("div"),r="hyphens:auto";a.lang=n,a.style.cssText=`visibility:hidden;-webkit-${r};-ms-${r};${r};width:48px;font-size:12px;line-height:12px;border:none;padding:0;word-wrap:normal`,a[o](t[p](l.get(n).wo.toLowerCase())),e[o](a)}}})();s.res={he:new Map};const d=new Map;function u(t){const n=l.get(t).fn+".wasm";if(s.cf.pf=!0,s.cf.langs.set(t,"H9Y"),d.has(n)){const e=s.res.he.get(d.get(n));e.c+=1,s.res.he.set(t,e)}else s.res.he.set(t,{c:1,w:e.fetch(s.paths.patterndir+n,{credentials:s.setup.CORScredentials})}),d.set(n,t)}l.forEach((e,t)=>{"FORCEHYPHENOPOLY"===e.wo||"H9Y"===s.cf.langs.get(t)?u(t):h.cr(t)});const f=h.ap();f&&(f.querySelectorAll("div").forEach(e=>{var t;"auto"===((t=e.style).hyphens||t.webkitHyphens||t.msHyphens)&&e.offsetHeight>12?s.cf.langs.set(e.lang,"CSS"):u(e.lang)}),h.cl());const m=s.handleEvent;if(s.cf.pf){s.res.DOM=new Promise(e=>{"loading"===t.readyState?t.addEventListener("DOMContentLoaded",e,{once:!0,passive:!0}):e()}),0===s.setup.hide&&s.hide(1,0),-1!==s.setup.hide&&(s.timeOutHandler=e.setTimeout(()=>{s.hide(0,null),console.info(r+" timed out.")},s.setup.timeout)),s.res.DOM.then(()=>{s.setup.hide>0&&s.hide(1,s.setup.hide)});const n=t[i]("script");n.src=s.paths.maindir+"Hyphenopoly.js",t.head[o](n),s.hy6ors=new Map,s.cf.langs.forEach((e,t)=>{"H9Y"===e&&s.hy6ors.set(t,s.defProm())}),s.hy6ors.set("HTML",s.defProm()),s.hyphenators=new Proxy(s.hy6ors,{get:(e,t)=>e.get(t),set:()=>!0}),m&&m.polyfill&&m.polyfill()}else m&&m.tearDown&&m.tearDown(),e.Hyphenopoly=null;s.cacheFeatureTests&&a.setItem(r,JSON.stringify({langs:[...s.cf.langs.entries()],pf:s.cf.pf}))})(window,document,Hyphenopoly,Object);
/**
 * @license Hyphenopoly 4.3.0 - client side hyphenation for webbrowsers
 * ©2020  Mathias Nater, Güttingen (mathiasnater at gmail dot com)
 * https://github.com/mnater/Hyphenopoly
 *
 * Released under the MIT license
 * http://mnater.github.io/Hyphenopoly/LICENSE
 */
(e=>{"use strict";function t(){return Object.create(null)}const n=(e,t)=>({configurable:(4&t)>0,enumerable:(2&t)>0,writable:(1&t)>0,value:e}),r=(t=>{const n=new Map([["afterElementHyphenation",[]],["beforeElementHyphenation",[]],["engineReady",[]],["error",[t=>{t.runDefault&&e.console.warn(t.msg)}]],["hyphenopolyEnd",[]],["hyphenopolyStart",[]]]);return n.forEach((e,r)=>{t.handleEvent&&Object.prototype.hasOwnProperty.call(t.handleEvent,r)&&n.get(r).unshift(t.handleEvent[r])}),{fire:(e,t)=>{t.runDefault=!0,t.preventDefault=()=>{t.runDefault=!1},n.get(e).forEach(e=>{e(t)})}}})(Hyphenopoly);(e=>{const r=Object.create(null,{defaultLanguage:n("en-us",2),dontHyphenate:n((()=>{const e=t();return"abbr,acronym,audio,br,button,code,img,input,kbd,label,math,option,pre,samp,script,style,sub,sup,svg,textarea,var,video".split(",").forEach(t=>{e[t]=!0}),e})(),2),dontHyphenateClass:n("donthyphenate",2),exceptions:n(t(),2),keepAlive:n(!0,2),normalize:n(!1,2),safeCopy:n(!0,2),substitutions:n(t(),2),timeout:n(1e3,2)}),a=Object.create(r),o=Object.create(null,{compound:n("hyphen",2),hyphen:n("­",2),leftmin:n(0,2),leftminPerLang:n(0,2),minWordLength:n(6,2),mixedCase:n(!0,2),orphanControl:n(1,2),rightmin:n(0,2),rightminPerLang:n(0,2)});Object.keys(e.setup).forEach(l=>{if("selectors"===l){const r=Object.keys(e.setup.selectors);Object.defineProperty(a,"selectors",n(r,2)),r.forEach(r=>{const l=t();Object.keys(e.setup.selectors[r]).forEach(t=>{l[t]=n(e.setup.selectors[r][t],2)}),Object.defineProperty(a,r,n(Object.create(o,l),2))})}else if("dontHyphenate"===l){const o=t();Object.keys(e.setup.dontHyphenate).forEach(t=>{o[t]=n(e.setup.dontHyphenate[t],2)}),Object.defineProperty(a,l,n(Object.create(r.dontHyphenate,o),3))}else Object.defineProperty(a,l,n(e.setup[l],3))}),e.c=a})(Hyphenopoly),(a=>{const o=a.c;let l=null;function s(e,t){try{return e.getAttribute("lang")?e.getAttribute("lang").toLowerCase():"html"===e.tagName.toLowerCase()?t?l:null:s(e.parentNode,t)}catch(e){return null}}function c(t=null,n=null){const l=function(){const e=new Map,t=[0];return{add:function(n,r,a){const o={element:n,selector:a};return e.has(r)||e.set(r,[]),e.get(r).push(o),t[0]+=1,o},counter:t,each:function(t){e.forEach((e,n)=>{t(n,e)})},list:e,rem:function(n){let a=0;e.has(n)&&(a=e.get(n).length,e.delete(n),t[0]-=a,0===t[0]&&(r.fire("hyphenopolyEnd",{msg:"hyphenopolyEnd"}),o.keepAlive||(window.Hyphenopoly=null)))}}}(),c=(()=>{let e="."+o.dontHyphenateClass,t=null;for(t in o.dontHyphenate)o.dontHyphenate[t]&&(e+=","+t);return e})(),i=o.selectors.join(",")+","+c;function h(t,n,c,u=!1){const p=function(e,t){return e.lang&&"string"==typeof e.lang?e.lang.toLowerCase():t&&""!==t?t.toLowerCase():s(e,!0)}(t,n);"H9Y"===a.cf.langs[p]?(l.add(t,p,c),!u&&o.safeCopy&&function(t){t.addEventListener("copy",t=>{t.preventDefault();const n=e.getSelection(),r=n.getRangeAt(0).cloneContents(),a=document.createElement("div");a.appendChild(r);const o=a.innerHTML,l=n.toString(),s=/­/g;t.clipboardData.setData("text/plain",l.replace(s,"")),t.clipboardData.setData("text/html",o.replace(s,""))},!0)}(t)):a.cf.langs[p]||r.fire("error",{msg:`Element with '${p}' found, but '${p}.hpb' not loaded. Check language tags!`}),t.childNodes.forEach(e=>{1!==e.nodeType||function(e,t){return e.matches||(e.matches=e.msMatchesSelector||e.webkitMatchesSelector),e.matches(t)}(e,i)||h(e,p,c,!0)})}return null===t?o.selectors.forEach(t=>{e.document.querySelectorAll(t).forEach(e=>{h(e,s(e,!0),t,!1)})}):h(t,s(t,!0),n,!0),l}r.fire("hyphenopolyStart",{msg:"hyphenopolyStart"});const i=new Map,h=new Map;function u(e,t,n){const l=a.languages.get(e),s=o[t],c=s.minWordLength,u=e+"-"+t,p=i.has(u)?i.get(u):function e(t,n,a){const l=o[a],s=l.hyphen;function c(o){let c=t.cache.get(a).get(o);var i;return c||(t.exc.has(o)?c=t.exc.get(o).replace(/-/g,l.hyphen):!l.mixedCase&&(i=o,Array.prototype.map.call(i,e=>e===e.toLowerCase()).some((e,t,n)=>e!==n[0]))?c=o:-1===o.indexOf("-")?o.length>61?(r.fire("error",{msg:"found word longer than 61 characters"}),c=o):c=t.reNotAlphabet.test(o)?o:t.hyphenate(o,s.charCodeAt(0),l.leftminPerLang[n],l.rightminPerLang[n]):c=function(r){let o=null,s=null;return"auto"===l.compound||"all"===l.compound?(s=e(t,n,a),o=r.split("-").map(e=>e.length>=l.minWordLength?s(e):e),r="auto"===l.compound?o.join("-"):o.join("-​")):r=r.replace("-","-​"),r}(o),t.cache.get(a).set(o,c)),c}return t.cache.set(a,new Map),i.set(n+"-"+a,c),c}(l,e,t),g=h.has(t)?h.get(t):function(e){function t(t,n,r,a){const l=o[e];return 3===l.orphanControl&&" "===n&&(n=" "),n+r.replace(RegExp(l.hyphen,"g"),"")+a}return h.set(e,t),t}(t),f=RegExp(`[${l.alphabet}a-zß-öø-þāăąćĉčďđēėęěĝğģĥīįıĵķļľłńņňōőœŕřśŝşšťūŭůűųźżžſǎǐǒǔǖǘǚǜșțʼΐά-ώϐϣϥϧϩϫϭϯϲа-яё-ќўџґүөա-օևअ-ऌएऐओ-नप-रलळव-हऽॠॡঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹઅ-ઋએઐઓ-નપ-રલળવ-હઽૠଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହୠୡஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡഅ-ഌഎ-ഐഒ-നപ-ഹൠൡൺ-ൿก-ฮะาำเ-ๅა-ჰሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏḍḷṁṃṅṇṭἀ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾲ-ᾴᾶᾷῂ-ῄῆῇῒΐῖῗῢ-ῧῲ-ῴῶῷⲁⲃⲅⲇⲉⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⳉⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ-]{${c},}`,"gui");function d(e){let t=null;return t=o.normalize?e.normalize("NFC").replace(f,p):e.replace(f,p),1!==s.orphanControl&&(t=t.replace(/(\u0020*)(\S+)(\s*)$/,g)),t}let m=null;var y;return"string"==typeof n?m=d(n):n instanceof HTMLElement&&(y=n,r.fire("beforeElementHyphenation",{el:y,lang:e}),y.childNodes.forEach(e=>{3===e.nodeType&&/\S/.test(e.data)&&e.data.length>=c&&(e.data=d(e.data))}),a.res.get("els").then(e=>{e.counter[0]-=1}),r.fire("afterElementHyphenation",{el:y,lang:e})),m}function p(t,n){n?n.forEach(e=>{u(t,e.selector,e.element)}):r.fire("error",{msg:`engine for language '${t}' loaded, but no elements found.`}),a.res.get("els").then(t=>{0===t.counter[0]&&(e.clearTimeout(a.timeOutHandler),0!==o.hide&&a.hide(0,null),r.fire("hyphenopolyEnd",{msg:"hyphenopolyEnd"}),o.keepAlive||(window.Hyphenopoly=null))})}a.unhyphenate=()=>a.res.get("els").then(e=>(e.each((e,t)=>{t.forEach(e=>{const t=e.element.firstChild;t.data=t.data.replace(RegExp(o[e.selector].hyphen,"g"),"")})}),e));const g=(()=>{if(e.TextDecoder){const e=new TextDecoder("utf-16le");return t=>e.decode(t)}return e=>String.fromCharCode.apply(null,e)})();a.res.get("DOM").then(()=>{l=s(e.document.documentElement,!1),l||""===o.defaultLanguage||(l=o.defaultLanguage),a.res.set("els",Promise.resolve(c())),a.res.get("els").then(e=>{e.each((e,t)=>{a.languages&&a.languages.has(e)&&a.languages.get(e).ready&&p(e,t)})})}),a.res.get("he").forEach((e,l)=>{!function(e,l){const s=window.WebAssembly;function c(e){const c=e.instance.exports;let i=c.conv();i=function(e,t){if(a.c.substitute&&a.c.substitute[l]){const r=a.c.substitute[l];n=n=>{const a=n.toUpperCase();let o=0;a!==n&&(o=a.charCodeAt(0)),e=t.subst(n.charCodeAt(0),o,r[n].charCodeAt(0))},Object.keys(r).forEach(n)}var n;return e}(i,c);const h={buf:c.mem.buffer,hw:s.Global?c.hwo.value:c.hwo,lm:s.Global?c.lmi.value:c.lmi,rm:s.Global?c.rmi.value:c.rmi,wo:s.Global?c.uwo.value:c.uwo};!function(e,l,s,c,i){s=s.replace(/-/g,"");const h=function(e){return a.languages||(a.languages=new Map),a.languages.has(e)||a.languages.set(e,t()),a.languages.get(e)}(e);h.ready||(h.cache=new Map,o.exceptions.global&&(o.exceptions[e]?o.exceptions[e]+=", "+o.exceptions.global:o.exceptions[e]=o.exceptions.global),o.exceptions[e]?(h.exc=new Map(o.exceptions[e].split(", ").map(e=>[e.replace(/-/g,""),e])),delete o.exceptions[e]):h.exc=new Map,h.alphabet=s,h.reNotAlphabet=RegExp(`[^${s}]`,"gi"),h.hyphenate=l,o.selectors.forEach(r=>{const a=o[r];0===a.leftminPerLang&&Object.defineProperty(a,"leftminPerLang",n(t(),2)),0===a.rightminPerLang&&Object.defineProperty(a,"rightminPerLang",n(t(),2)),a.leftminPerLang[e]=Math.max(c,a.leftmin,Number(a.leftminPerLang[e])||0),a.rightminPerLang[e]=Math.max(i,a.rightmin,Number(a.rightminPerLang[e])||0)}),h.ready=!0,a.hyphenators[e].resolve(function(e){return(t,n=".hyphenate")=>("string"!=typeof t&&r.fire("error",{msg:"This use of hyphenators is deprecated. See https://mnater.github.io/Hyphenopoly/Hyphenators.html"}),u(e,n,t))}(e))),r.fire("engineReady",{lang:e}),Promise.all([h,a.res.get("els")]).then(t=>{p(e,t[1].list.get(e))})}(l,function(e,t){const n=new Uint16Array(e.buf,e.wo,64),r=new Uint16Array(e.buf,e.hw,128);return n[0]=95,(e,a,o,l)=>{let s=0;for(const t of e)s+=1,n[s]=t.charCodeAt(0);return n[s+1]=95,n[s+2]=0,1===t(o,l,a)&&(e=g(r.subarray(1,r[0]+1))),e}}(h,c.hyphenate),g(new Uint16Array(c.mem.buffer,1026,i-1)),h.lm,h.rm)}e.w.then(t=>{if(t.ok){let n=t;e.c>1&&(n=t.clone()),s.instantiateStreaming&&"application/wasm"===t.headers.get("Content-Type")?s.instantiateStreaming(n).then(c):n.arrayBuffer().then(e=>{window.WebAssembly.instantiate(e).then(c)})}else a.res.get("els").then(e=>{e.rem(l)}),a.hyphenators[l].reject({msg:`File ${l}.wasm can't be loaded from ${a.paths.patterndir}`})})}(e,l)}),Promise.all(Object.entries(a.hyphenators).reduce((e,t)=>"HTML"!==t[0]?e.concat(t[1]):e,[])).then(()=>{a.hyphenators.HTML.resolve((e,t=".hyphenate")=>(c(e,t).each((e,t)=>{t.forEach(t=>{u(e,t.selector,t.element)})}),null))},e=>{r.fire("error",e)})})(Hyphenopoly)})(window);